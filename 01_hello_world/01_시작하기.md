# 에펠(Eiffel) 프로그래밍 시작하기

> **2025년 업데이트** - EiffelStudio 25.02 기준

## 에펠이란?

에펠(Eiffel)은 **Bertrand Meyer**가 1985년에 설계한 객체지향 프로그래밍 언어입니다. 프랑스 파리의 에펠탑에서 이름을 따왔습니다.

### 에펠의 철학

> "소프트웨어 품질은 우연이 아니라 설계의 결과다"

에펠은 **정확하고 신뢰할 수 있는 소프트웨어**를 만들기 위해 설계되었습니다. **ISO/ECMA 국제 표준**(ECMA-367, ISO/IEC 25436)으로 제정된 언어입니다.

### 주요 특징

| 특징 | 설명 |
|------|------|
| **Design by Contract** | 사전조건, 사후조건, 불변식으로 계약 기반 프로그래밍 |
| **순수 객체지향** | 모든 것이 객체, 전역 함수 없음 |
| **다중 상속** | 여러 클래스로부터 상속 가능 |
| **강력한 타입 시스템** | 컴파일 타임에 타입 오류 검출 |
| **자동 메모리 관리** | 가비지 컬렉션 내장 |
| **Void 안전성** | null 참조 오류 방지 (attached types) |
| **SCOOP** | 간단한 동시성 객체지향 프로그래밍 지원 |
| **오픈소스** | GPL 라이선스로 무료 사용 가능 |

---

## 개발 환경 설정 (2025년 기준)

### 1. EiffelStudio 25.02 설치

1. [EiffelStudio 다운로드 페이지](https://www.eiffel.com/eiffelstudio/) 접속
2. **Community Edition** 선택 (무료, 오픈소스)
3. 운영체제에 맞는 버전 다운로드:
   - **Windows**: 64비트 설치 프로그램
   - **Linux**: tar.gz 아카이브
   - **macOS**: DMG 설치 파일 (Intel 및 Apple Silicon 지원)
4. 설치 진행

### EiffelStudio 25.02의 새 기능 (2025년 2월)

| 기능 | 설명 |
|------|------|
| **SVG 다이어그램 내보내기** | 클래스 다이어그램을 SVG로 내보내기 가능 |
| **MongoDB/MariaDB 지원** | 새로운 데이터베이스 라이브러리 추가 |
| **EIFDATA 디렉토리** | 프로젝트 데이터 중앙 관리 |
| **실행 프로파일 그룹화** | 실행 매개변수 관리 개선 |
| **크로스 플랫폼 개선** | `$(path_separator)` ECF 지원 |

### 이전 버전 주요 기능 (EiffelStudio 24.05)

- **.NET Core 8.0 지원**: net6.0, net7.0, net8.0 컴파일 지원
- **PDB 파일 생성**: 외부 도구에서 디버깅 가능
- **.NET 통합 디버깅**: Windows에서 직접 디버깅 지원
- **Composer 명령어 개선**: 속성에 대한 Setter 자동 생성

### 2. 환경 변수 확인

설치 후 자동으로 설정되지만, 확인이 필요한 경우:

```bash
# Windows (PowerShell)
$env:ISE_EIFFEL = "C:\Eiffel_25.02"
$env:ISE_LIBRARY = $env:ISE_EIFFEL
$env:ISE_PLATFORM = "windows"

# Windows (CMD)
set ISE_EIFFEL=C:\Eiffel_25.02
set ISE_LIBRARY=%ISE_EIFFEL%
set ISE_PLATFORM=windows

# Linux/macOS
export ISE_EIFFEL=/opt/Eiffel_25.02
export ISE_LIBRARY=$ISE_EIFFEL
export ISE_PLATFORM=linux-x86-64  # 또는 macosx-x86-64
export PATH=$ISE_EIFFEL/studio/spec/$ISE_PLATFORM/bin:$PATH
```

### 3. VS Code 확장 (선택사항)

Visual Studio Code에서도 에펠 개발이 가능합니다:

```text
Extensions → "Eiffel" 검색 → 설치
```

기능: 문법 강조, 코드 스니펫, `.e` 파일 자동 인식

---

## 첫 번째 프로그램: Hello World

### 코드 (hello.e)

```eiffel
note
    description: "첫 번째 에펠 프로그램"
    author: "Your Name"
    date: "2025"

class
    HELLO

create
    make

feature -- Initialization

    make
            -- 프로그램 진입점
        do
            print ("Hello, World!%N")
            print ("에펠 프로그래밍에 오신 것을 환영합니다!%N")
        end

end
```

### 코드 설명

#### 1. note 섹션

```eiffel
note
    description: "설명"
    author: "작성자"
    date: "2025"
```

- 클래스의 메타데이터 (문서화용)
- 선택사항이지만 권장
- 여러 줄 설명: `description: "[ 여러 줄 내용 ]"` 사용

#### 2. class 선언

```eiffel
class
    HELLO
```

- 클래스 이름은 **대문자**로 작성 (관례)
- 에펠에서 모든 코드는 클래스 안에 존재
- 파일 이름은 클래스 이름과 일치해야 함 (`hello.e` → `HELLO`)

#### 3. create 절

```eiffel
create
    make
```

- 생성자(constructor) 역할을 하는 feature 지정
- 여러 생성자 지정 가능: `create make, make_with_name`

#### 4. feature 섹션

```eiffel
feature -- Initialization

    make
            -- 프로그램 진입점
        do
            print ("Hello, World!%N")
        end
```

- `feature`: 클래스의 멤버(속성, 메서드) 선언
- `-- Initialization`: 주석 (feature 그룹 설명)
- `do ... end`: 메서드 본문
- `%N`: 줄바꿈 문자 (다른 언어의 `\n`)

---

## 프로젝트 설정 파일 (.ecf)

ECF(Eiffel Configuration File)는 XML 기반 프로젝트 설정 파일입니다.

```xml
<?xml version="1.0" encoding="ISO-8859-1"?>
<system name="hello" uuid="12345678-1234-1234-1234-123456789012">
    <target name="hello">
        <root class="HELLO" feature="make"/>

        <!-- 기본 라이브러리 -->
        <library name="base"
            location="$ISE_LIBRARY\library\base\base.ecf"/>

        <!-- 소스 코드 위치 -->
        <cluster name="src" location=".\"/>

        <!-- 옵션 (EiffelStudio 25.02) -->
        <option>
            <assertions precondition="true" postcondition="true"
                check="true" invariant="true"/>
        </option>
    </target>
</system>
```

| 요소 | 설명 |
|------|------|
| `root` | 프로그램 시작점 (클래스와 feature) |
| `library` | 사용할 라이브러리 |
| `cluster` | 소스 코드 위치 |
| `option` | 컴파일 옵션 (assertion 등) |

### EiffelStudio 25.02 ECF 새 기능

```xml
<!-- 크로스 플랫폼 경로 구분자 -->
<external_include location="include$(path_separator)headers"/>
```

---

## 컴파일 및 실행

### EiffelStudio 사용

1. **File > New Project** → 위치 선택 → 프로젝트 이름 입력
2. 또는 **File > Open Project** → `.ecf` 파일 선택
3. **F7** 또는 **Project > Compile** → 컴파일
4. **Ctrl+F5** 또는 **Project > Run** → 실행
5. **F5** → 디버그 모드 실행

### 명령줄 사용 (ec)

```bash
# 컴파일 (Workbench 모드 - 개발용)
ec -config hello.ecf

# 컴파일 (Finalized 모드 - 배포용, 최적화)
ec -config hello.ecf -finalize

# 정리 (clean)
ec -config hello.ecf -clean

# 실행 (Windows)
.\EIFGENs\hello\W_code\hello.exe

# 실행 (Linux/macOS)
./EIFGENs/hello/W_code/hello
```

### 컴파일 모드 비교

| 모드 | 용도 | 속도 | Assertion |
|------|------|------|-----------|
| **Workbench (W_code)** | 개발/디버깅 | 느림 | 활성화 |
| **Finalized (F_code)** | 배포 | 빠름 | 선택적 |

---

## 에펠 vs 다른 언어

| 개념 | Java/C# | Python | Eiffel |
|------|---------|--------|--------|
| 클래스 | `class Foo {}` | `class Foo:` | `class FOO ... end` |
| 메서드 | `void foo() {}` | `def foo():` | `foo do ... end` |
| 생성자 | `Foo() {}` | `__init__` | `create`로 지정 |
| 줄바꿈 | `\n` | `\n` | `%N` |
| 할당 | `=` | `=` | `:=` |
| 비교 | `==` | `==` | `=` |
| 불일치 | `!=` | `!=` | `/=` |
| 블록 종료 | `}` | 들여쓰기 | `end` |
| 반환 | `return x` | `return x` | `Result := x` |
| null | `null` | `None` | `Void` |
| this | `this` | `self` | `Current` |

---

## 에펠 명명 규칙

| 대상 | 규칙 | 예시 |
|------|------|------|
| 클래스 | 대문자 + 밑줄 | `LINKED_LIST`, `BANK_ACCOUNT` |
| feature | 소문자 + 밑줄 | `make`, `item_count`, `is_empty` |
| 지역 변수 | 소문자 + 밑줄 | `temp_value`, `i` |
| 상수 | 대문자로 시작 | `Pi`, `Max_size` |
| 인자 | `a_` 또는 `an_` 접두사 | `a_name`, `an_age` |

---

## 자주 발생하는 오류

### 1. 할당 연산자 오류

```eiffel
-- 잘못됨 (= 는 비교 연산자!)
name = "Eiffel"

-- 올바름
name := "Eiffel"
```

### 2. 지역 변수 선언 위치

```eiffel
-- 잘못됨 (do 안에서 선언 불가)
my_feature
    do
        local x: INTEGER  -- 오류!
    end

-- 올바름 (local은 do 앞에)
my_feature
    local
        x: INTEGER
    do
        x := 10
    end
```

### 3. Void 호출 오류

```eiffel
local
    s: STRING  -- 초기화 안 됨 = Void
do
    print (s.count)  -- Void 호출 오류!

    -- 해결: 초기화 후 사용
    s := "Hello"
    print (s.count)
end
```

---

## 연습 문제

1. 자신의 이름과 나이를 출력하는 프로그램을 작성하세요.
2. 두 개의 문자열을 연결하여 출력하는 프로그램을 작성하세요.
3. `note` 섹션에 자신만의 메타데이터를 추가해 보세요.

---

## 참고 자료

### 공식 자료

- [Eiffel.org](https://www.eiffel.org/) - 공식 사이트
- [EiffelStudio](https://www.eiffel.com/eiffelstudio/) - IDE 다운로드
- [공식 튜토리얼](https://www.eiffel.org/doc/eiffel/An_Eiffel_Tutorial_(ET))

### EiffelStudio 릴리스 노트

- [EiffelStudio 25.02](https://www.eiffel.com/2025/eiffelstudio-25-02/)
- [EiffelStudio 24.05](https://www.eiffel.com/2024/eiffelstudio-24-05/)

### GitHub

- [EiffelStudio 소스](https://github.com/EiffelSoftware/EiffelStudio)
- [Awesome Eiffel](https://github.com/seamus-brady/awesome-eiffel)

---

## 다음 단계

[02_변수와_타입.md](../02_variables_types/02_변수와_타입.md)에서 에펠의 기본 타입과 변수 사용법을 학습합니다.
